---
tags: ["Chrome","DevTools", "CSS", "正则表达式", "Lezer解析器"]
category: 文章
source: Twitter
date: 2024-08-11
title: Chrome DevTools CSS值解析升级
---

### [style选项卡升级](https://developer.chrome.com/blog/devtools-css-value-parsing?hl=en)

来源: [@ChromeDevTools](https://x.com/ChromeDevTools/status/1821803880839090363)

![025.webp](https://img.mengpeng.tech/i/2024/11/24/6742f9c02231b.webp)


这篇文章介绍了Chrome DevTools在CSS值解析方面的改进，具体内容如下：

1. **背景介绍**：
   - 文章提到在Chrome 121到128版本之间，DevTools对CSS值解析进行了重大改进，从使用正则表达式匹配系统转变为更强大的解析器。

2. **主要改进**：
   - **颜色预览**：改进了`color-mix`函数的预览，提供了两个颜色参数的可视化表示。
   - **点击颜色预览**：例如，点击`pink`颜色预览可以打开颜色选择器进行调整。
   - **未定义变量处理**：改进了对未定义变量的处理，未定义的变量会变灰显示，回退值会显示为可点击的颜色预览。
   - **角度值修改**：提供了可交互的角度时钟，可以拖动修改角度值。
   - **自定义属性链接**：点击自定义属性可以跳转到相关声明。

3. **解析过程**：
   - **结构分析**：初步解析属性声明，识别其组成部分及其关系。
   - **渲染**：基于结构分析，将这些组件转换为HTML表示，增强显示的属性文本，添加交互元素和视觉提示。

4. **从正则表达式到解析器的转变**：
   - 之前使用正则表达式进行值分析，但随着CSS语言复杂性的增加，正则表达式匹配系统逐渐无法满足需求。
   - 文章详细描述了正则表达式匹配系统的局限性，并介绍了如何通过使用Lezer的CSS解析器进行改进。

5. **性能影响**：
   - 尽管解析器方法比正则表达式方法慢27%，但考虑到新方法带来的可靠性和功能改进，团队决定继续使用解析器方法。

