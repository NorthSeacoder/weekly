---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
    title: '管理员登录',
    description: '管理员访问验证',
    robots: {
        index: false,
        follow: false
    }
};

// 检查是否为生产环境
const isProduction = import.meta.env.PROD;
---

<Layout metadata={metadata}>
    <div class="min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div>
                <div class="mx-auto h-20 w-20 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900">
                    <span class="text-3xl">🔐</span>
                </div>
                <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white">
                    管理员功能
                </h2>
                {isProduction ? (
                    <p class="mt-2 text-center text-sm text-red-600 dark:text-red-400">
                        管理功能仅在开发环境可用
                    </p>
                ) : (
                    <p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400">
                        开发环境 - 管理功能已启用
                    </p>
                )}
            </div>
            
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
                {isProduction ? (
                    <div class="text-center space-y-4">
                        <div class="p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <span class="text-2xl">⚠️</span>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200">
                                        生产环境提示
                                    </h3>
                                    <div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300">
                                        <p>管理功能在生产环境中已被禁用以确保安全性。</p>
                                        <p class="mt-1">如需使用管理功能，请在本地开发环境中操作。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p>技术说明：生产构建将 API 路由预渲染为静态文件，无法执行服务端逻辑。</p>
                        </div>
                    </div>
                ) : (
                    <div class="space-y-6">
                        <div class="p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <span class="text-2xl">✅</span>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-green-800 dark:text-green-200">
                                        开发环境
                                    </h3>
                                    <div class="mt-2 text-sm text-green-700 dark:text-green-300">
                                        <p>您正在开发环境中，管理功能已启用。</p>
                                        <p class="mt-1">可以直接访问管理面板进行内容管理。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <a 
                                href="/admin/review" 
                                class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"
                            >
                                进入管理面板
                            </a>
                        </div>
                        
                        <div class="text-xs text-gray-500 dark:text-gray-400 text-center">
                            <p>开发环境下无需权限验证</p>
                        </div>
                    </div>
                )}
            </div>
        </div>
    </div>
</Layout> 