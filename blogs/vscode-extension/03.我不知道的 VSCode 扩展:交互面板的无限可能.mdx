---
tags: [å‰ç«¯å¼€å‘, VSCode, æ‰©å±•å¼€å‘, Webview, OutputChannel, äº¤äº’é¢æ¿]
category: VSCode
date: 2024-03-15
title: æˆ‘ä¸çŸ¥é“çš„ VSCode æ‰©å±•:äº¤äº’é¢æ¿çš„æ— é™å¯èƒ½
desc: æ¢ç´¢ VSCode æ‰©å±•ä¸­ Webview å’Œ Output Channel çš„å¼ºå¤§åŠŸèƒ½ï¼Œæ‰“é€ æ›´ä¸°å¯Œçš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚
slug: vscode-extension-03
---

### å¼•è¨€

ğŸš€ åœ¨å‰å‡ ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† VSCode æ‰©å±•å¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠå¦‚ä½•æ·»åŠ èœå•ã€è§†å›¾å’ŒçŠ¶æ€æ ç­‰ç”¨æˆ·ç•Œé¢å…ƒç´ ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ›´è¿›ä¸€æ­¥ï¼Œæ¢ç´¢ VSCode æ‰©å±•ä¸­ä¸¤ç§å¼ºå¤§çš„äº¤äº’é¢æ¿:**Webview** å’Œ **è¾“å‡ºé€šé“ (Output Channel)**ã€‚å®ƒä»¬èƒ½ä¸ºä½ çš„æ‰©å±•å¸¦æ¥æ›´ä¸°å¯Œçš„ç”¨æˆ·äº¤äº’å’Œä¿¡æ¯å±•ç¤ºæ–¹å¼,ä½¿æ‰©å±•åŠŸèƒ½æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚è®©æˆ‘ä»¬ä¸€èµ·å¼€å¯äº¤äº’é¢æ¿çš„æ— é™å¯èƒ½ï¼

### Webview:æ‰“é€ è‡ªå®šä¹‰çš„äº¤äº’ç•Œé¢

ğŸŒ **Webview** å…è®¸ä½ åœ¨ VSCode ä¸­åµŒå…¥å®Œæ•´çš„ Web é¡µé¢ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ HTML, CSS, JavaScript ç­‰ Web æŠ€æœ¯ï¼Œåœ¨ VSCode å†…éƒ¨åˆ›å»ºé«˜åº¦è‡ªå®šä¹‰çš„äº¤äº’ç•Œé¢ã€‚Webview éå¸¸é€‚åˆå±•ç¤ºå¤æ‚çš„æ•°æ®å¯è§†åŒ–ã€åˆ›å»ºè‡ªå®šä¹‰ç¼–è¾‘å™¨ã€æˆ–è€…é›†æˆ Web åº”ç”¨åˆ° VSCode ä¸­ã€‚

#### åˆ›å»ºå’Œæ˜¾ç¤º Webview

ğŸ› ï¸ è¦åˆ›å»ºå’Œæ˜¾ç¤º Webviewï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `vscode.window.createWebviewPanel()` æ–¹æ³•ã€‚

```typescript
import * as vscode from 'vscode';

export function activate(context: vscode.ExtensionContext) {
    // ...

    let disposable = vscode.commands.registerCommand('extension.showWebview', () => {
        // åˆ›å»º Webview é¢æ¿
        const panel = vscode.window.createWebviewPanel(
            'myWebview', // Webview çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„ Webview
            'æˆ‘çš„ Webview', // Webview é¢æ¿çš„æ ‡é¢˜
            vscode.ViewColumn.One, // Webview é¢æ¿æ˜¾ç¤ºçš„ä½ç½®ï¼Œä¾‹å¦‚ ViewColumn.One, ViewColumn.Two, ViewColumn.Beside
            {
                enableScripts: true, // å¯ç”¨ JavaScript è„šæœ¬
                retainContextWhenHidden: true // éšè—æ—¶ä¿æŒ Webview çŠ¶æ€
            }
        );

        // è®¾ç½® Webview å†…å®¹
        panel.webview.html = getWebviewContent();
    });

    context.subscriptions.push(disposable);
}

function getWebviewContent() {
    return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„ Webview</title>
</head>
<body>
    <h1>Hello Webview!</h1>
    <p>This is a webview created by VSCode extension.</p>
</body>
</html>`;
}
```

-   **`vscode.window.createWebviewPanel(viewType, title, showOptions, options)`**: åˆ›å»º Webview é¢æ¿ã€‚

    -   **`viewType`**: Webview çš„æ ‡è¯†ç¬¦ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºåœ¨ VSCode ä¸­å”¯ä¸€æ ‡è¯†ä½ çš„ Webviewã€‚
    -   **`title`**: Webview é¢æ¿çš„æ ‡é¢˜ï¼Œæ˜¾ç¤ºåœ¨é¢æ¿çš„æ ‡ç­¾é¡µä¸Šã€‚
    -   **`showOptions`**: æ§åˆ¶ Webview é¢æ¿çš„æ˜¾ç¤ºä½ç½®ï¼Œ`vscode.ViewColumn` æšä¸¾ç±»å‹ï¼Œä¾‹å¦‚ `ViewColumn.One`, `ViewColumn.Two`, `ViewColumn.Beside` (åœ¨å½“å‰ç¼–è¾‘å™¨æ—è¾¹æ‰“å¼€)ã€‚
    -   **`options`**: Webview çš„é…ç½®é€‰é¡¹ï¼Œå¯¹è±¡ç±»å‹ã€‚
        -   **`enableScripts`**: æ˜¯å¦å¯ç”¨ Webview ä¸­çš„ JavaScript è„šæœ¬ï¼Œå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º `false`ã€‚**é€šå¸¸éœ€è¦è®¾ç½®ä¸º `true` ä»¥å®ç°äº¤äº’åŠŸèƒ½**ã€‚
        -   **`retainContextWhenHidden`**: å½“ Webview é¢æ¿è¢«éšè— (ä¾‹å¦‚åˆ‡æ¢åˆ°å…¶ä»–é¢æ¿) æ—¶ï¼Œæ˜¯å¦ä¿æŒ Webview çš„çŠ¶æ€ (ä¾‹å¦‚ JavaScript è¿è¡ŒçŠ¶æ€ã€DOM çŠ¶æ€)ï¼Œå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º `false`ã€‚**å¦‚æœéœ€è¦ä¿æŒ Webview çŠ¶æ€ï¼Œå»ºè®®è®¾ç½®ä¸º `true`ï¼Œé¿å…æ¯æ¬¡æ˜¾ç¤º Webview éƒ½é‡æ–°åŠ è½½**ã€‚

-   **`panel.webview.html`**: è®¾ç½® Webview çš„ HTML å†…å®¹ï¼Œå­—ç¬¦ä¸²ç±»å‹ã€‚ä½ å¯ä»¥ç›´æ¥è®¾ç½® HTML å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥åŠ è½½å¤–éƒ¨ HTML æ–‡ä»¶ã€‚

#### Webview ä¸æ‰©å±•é€šä¿¡

âœ‰ï¸ Webview è¿è¡Œåœ¨ç‹¬ç«‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸æ‰©å±•ä¸»è¿›ç¨‹ä¹‹é—´éœ€è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œé€šä¿¡ã€‚VSCode æä¾›äº† `webview.postMessage()` å’Œ `webview.onDidReceiveMessage` API æ¥å®ç°åŒå‘é€šä¿¡ã€‚

1. **æ‰©å±•å‘é€æ¶ˆæ¯åˆ° Webview**: ä½¿ç”¨ `panel.webview.postMessage(message)` æ–¹æ³•ï¼Œå°†æ¶ˆæ¯å‘é€åˆ° Webviewã€‚`message` å¯ä»¥æ˜¯ä»»æ„ JavaScript å¯¹è±¡ã€‚

    ```typescript
    // ...
    panel.webview.html = getWebviewContent();

    // å‘é€æ¶ˆæ¯åˆ° Webview
    panel.webview.postMessage({ command: 'hello', text: 'Hello from Extension!' });
    ```

2. **Webview æ¥æ”¶æ¶ˆæ¯**: åœ¨ Webview çš„ JavaScript ä»£ç ä¸­ï¼Œç›‘å¬ `message` äº‹ä»¶ï¼Œæ¥æ”¶æ¥è‡ªæ‰©å±•çš„æ¶ˆæ¯ã€‚

    ```html:webview.html
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Webview ç¤ºä¾‹</title>
    </head>
    <body>
        <div id="message-container"></div>
        <script>
            const messageContainer = document.getElementById('message-container');

            // ç›‘å¬ message äº‹ä»¶
            window.addEventListener('message', event => {
                const message = event.data; // æ¶ˆæ¯å†…å®¹

                switch (message.command) {
                    case 'hello':
                        messageContainer.textContent = message.text;
                        break;
                }
            });
        </script>
    </body>
    </html>
    ```

3. **Webview å‘é€æ¶ˆæ¯åˆ°æ‰©å±•**: åœ¨ Webview çš„ JavaScript ä»£ç ä¸­ï¼Œä½¿ç”¨ `vscode.postMessage(message)` æ–¹æ³•ï¼Œå°†æ¶ˆæ¯å‘é€å›æ‰©å±•ã€‚**æ³¨æ„:è¿™é‡Œçš„ `vscode` å¯¹è±¡æ˜¯ç”± VSCode æ³¨å…¥åˆ° Webview ä¸­çš„å…¨å±€å¯¹è±¡ï¼Œéœ€è¦ç¡®ä¿ `enableScripts: true` é€‰é¡¹å·²å¯ç”¨**ã€‚

    ```html
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Webview ç¤ºä¾‹</title>
    </head>
    <body>
        <button id="send-button">å‘é€æ¶ˆæ¯ç»™æ‰©å±•</button>
        <script>
            const sendButton = document.getElementById('send-button');

            sendButton.addEventListener('click', () => {
                // å‘é€æ¶ˆæ¯ç»™æ‰©å±•
                vscode.postMessage({ command: 'webview-message', text: 'Hello from Webview!' });
            });
        </script>
    </html>
    ```

4. **æ‰©å±•æ¥æ”¶æ¶ˆæ¯**: åœ¨æ‰©å±•ä»£ç ä¸­ï¼Œç›‘å¬ `panel.webview.onDidReceiveMessage` äº‹ä»¶ï¼Œæ¥æ”¶æ¥è‡ª Webview çš„æ¶ˆæ¯ã€‚

    ```typescript
    // ...
    panel.webview.onDidReceiveMessage(
        message => {
            switch (message.command) {
                case 'webview-message':
                    vscode.window.showInformationMessage(`Webview message: ${message.text}`);
                    return;
            }
        },
        undefined,
        context.subscriptions
    );
    ```

##### Webview å®‰å…¨æ€§

âš ï¸ **Webview å®‰å…¨æ€§** æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ã€‚ç”±äº Webview å¯ä»¥æ‰§è¡Œä»»æ„ HTML, CSS, JavaScript ä»£ç ï¼Œå¦‚æœ Webview å†…å®¹æ¥æºä¸å¯ä¿¡ï¼Œå¯èƒ½ä¼šå­˜åœ¨å®‰å…¨é£é™©ï¼Œä¾‹å¦‚è·¨ç«™è„šæœ¬æ”»å‡» (XSS)ã€‚

ä¸ºäº†æé«˜ Webview å®‰å…¨æ€§ï¼Œä½ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹:

-   **é™åˆ¶ Webview æƒé™**: åœ¨åˆ›å»º Webview é¢æ¿æ—¶ï¼Œå°½é‡é™åˆ¶ Webview çš„æƒé™ï¼Œä¾‹å¦‚ç¦ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè®¿é—®ã€ç¦ç”¨ Node.js API ç­‰ã€‚
-   **å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)**: ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ (CSP) æ¥é™åˆ¶ Webview å¯ä»¥åŠ è½½çš„èµ„æºæ¥æºï¼Œé˜²æ­¢æ¶æ„è„šæœ¬æ³¨å…¥ã€‚
-   **è¾“å…¥éªŒè¯å’Œè¾“å‡ºç¼–ç **: å¯¹ Webview æ¥æ”¶çš„ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯ï¼Œå¹¶å¯¹è¾“å‡ºåˆ° Webview çš„å†…å®¹è¿›è¡Œ HTML ç¼–ç ï¼Œé˜²æ­¢ XSS æ”»å‡»ã€‚
-   **é¿å…åŠ è½½å¤–éƒ¨ä¸å¯ä¿¡å†…å®¹**: å°½é‡é¿å…åœ¨ Webview ä¸­åŠ è½½æ¥è‡ªå¤–éƒ¨ä¸å¯ä¿¡æ¥æºçš„å†…å®¹ï¼Œä¾‹å¦‚ç”¨æˆ·ä¸Šä¼ çš„ HTML æ–‡ä»¶ã€ä¸å¯ä¿¡çš„ CDN èµ„æºç­‰ã€‚

#### ç¤ºä¾‹:åˆ›å»ºç®€å•çš„ Webview äº¤äº’

ğŸ“ æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ Webview ç¤ºä¾‹ï¼Œå®ç°äº†æ‰©å±•å’Œ Webview ä¹‹é—´çš„åŒå‘é€šä¿¡ã€‚

1. **æ³¨å†Œå‘½ä»¤ `extension.showWebview`**: åœ¨ `package.json` ä¸­æ³¨å†Œå‘½ä»¤ `extension.showWebview`ï¼Œå¹¶åœ¨ `extension.ts` ä¸­å®ç°å‘½ä»¤å¤„ç†å‡½æ•°ï¼Œåˆ›å»ºå’Œæ˜¾ç¤º Webview é¢æ¿ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
2. **åˆ›å»º `getWebviewContent` å‡½æ•°**: åœ¨ `extension.ts` ä¸­åˆ›å»º `getWebviewContent` å‡½æ•°ï¼Œè¿”å› Webview çš„ HTML å†…å®¹ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
3. **å®ç° Webview æ¥æ”¶æ¶ˆæ¯**: åœ¨ `webview.html` ä¸­ï¼Œç¼–å†™ JavaScript ä»£ç ï¼Œç›‘å¬ `message` äº‹ä»¶ï¼Œæ¥æ”¶å¹¶å¤„ç†æ¥è‡ªæ‰©å±•çš„æ¶ˆæ¯ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
4. **å®ç° Webview å‘é€æ¶ˆæ¯**: åœ¨ `webview.html` ä¸­ï¼Œç¼–å†™ JavaScript ä»£ç ï¼Œç›‘å¬æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œè°ƒç”¨ `vscode.postMessage()` æ–¹æ³•å‘é€æ¶ˆæ¯ç»™æ‰©å±• (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
5. **å®ç°æ‰©å±•æ¥æ”¶æ¶ˆæ¯**: åœ¨ `extension.ts` ä¸­ï¼Œç›‘å¬ `panel.webview.onDidReceiveMessage` äº‹ä»¶ï¼Œæ¥æ”¶å¹¶å¤„ç†æ¥è‡ª Webview çš„æ¶ˆæ¯ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
6. **é‡æ–°åŠ è½½æ‰©å±•**: é‡æ–°åŠ è½½ VSCode çª—å£ã€‚

7. **æµ‹è¯•**: æ‰§è¡Œå‘½ä»¤ `extension.showWebview`ï¼Œæ‰“å¼€ Webview é¢æ¿ã€‚ä½ å°†åœ¨ Webview ä¸­çœ‹åˆ° "Hello Webview!" æ ‡é¢˜ï¼Œä»¥åŠæ¥è‡ªæ‰©å±•çš„æ¶ˆæ¯ "Hello from Extension!" (å¦‚æœå·²å®ç°æ¶ˆæ¯æ¥æ”¶)ã€‚ç‚¹å‡» Webview ä¸­çš„ "å‘é€æ¶ˆæ¯ç»™æ‰©å±•" æŒ‰é’®ï¼Œä½ å°†åœ¨ VSCode å³ä¸‹è§’çœ‹åˆ°æ¥è‡ª Webview çš„æ¶ˆæ¯ "Webview message: Hello from Webview!" (å¦‚æœå·²å®ç°æ¶ˆæ¯å‘é€å’Œæ¥æ”¶)ã€‚

### è¾“å‡ºé€šé“ (Output Channel):å±•ç¤ºæ‰©å±•æ—¥å¿—å’Œä¿¡æ¯

ğŸ“º **è¾“å‡ºé€šé“ (Output Channel)** æ˜¯ VSCode ä¸­ç”¨äºå±•ç¤ºæ‰©å±•è¾“å‡ºä¿¡æ¯å’Œæ—¥å¿—çš„é¢æ¿ã€‚ä½ å¯ä»¥ä½¿ç”¨è¾“å‡ºé€šé“æ¥æ˜¾ç¤ºæ‰©å±•çš„è¿è¡ŒçŠ¶æ€ã€è°ƒè¯•ä¿¡æ¯ã€é”™è¯¯æ—¥å¿—ç­‰ã€‚è¾“å‡ºé€šé“æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼Œä¾‹å¦‚çº¯æ–‡æœ¬ã€Markdownã€JSON ç­‰ï¼Œå¹¶å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ—¥å¿—è®°å½•å’ŒæŸ¥çœ‹ã€‚

#### åˆ›å»ºå’Œæ˜¾ç¤ºè¾“å‡ºé€šé“

ğŸ› ï¸ è¦åˆ›å»ºå’Œæ˜¾ç¤ºè¾“å‡ºé€šé“ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `vscode.window.createOutputChannel()` æ–¹æ³•ã€‚

```typescript
import * as vscode from 'vscode';

export function activate(context: vscode.ExtensionContext) {
    // ...

    // åˆ›å»ºè¾“å‡ºé€šé“
    const outputChannel = vscode.window.createOutputChannel('My Output Channel');

    let disposable = vscode.commands.registerCommand('extension.showOutputChannel', () => {
        // æ˜¾ç¤ºè¾“å‡ºé€šé“
        outputChannel.show(true); // true: ä¿æŒç„¦ç‚¹åœ¨è¾“å‡ºé€šé“ï¼Œfalse: ä¸ä¿æŒç„¦ç‚¹
    });
    context.subscriptions.push(disposable);

    // è¾“å‡ºä¿¡æ¯åˆ°è¾“å‡ºé€šé“
    outputChannel.appendLine('Extension "xxx" is now active!');
    outputChannel.appendLog('This is a log message.'); // VSCode 1.75+
    outputChannel.appendInfo('This is an info message.'); // VSCode 1.75+
    outputChannel.appendWarn('This is a warning message.'); // VSCode 1.75+
    outputChannel.appendError('This is an error message.'); // VSCode 1.75+
    outputChannel.appendObject({ key: 'value' }); // è¾“å‡º JSON å¯¹è±¡
}
```

-   **`vscode.window.createOutputChannel(name, options)`**: åˆ›å»ºè¾“å‡ºé€šé“ã€‚

    -   **`name`**: è¾“å‡ºé€šé“çš„åç§°ï¼Œæ˜¾ç¤ºåœ¨ "è¾“å‡º" é¢æ¿çš„ä¸‹æ‹‰åˆ—è¡¨ä¸­ã€‚
    -   **`options`**: è¾“å‡ºé€šé“çš„é…ç½®é€‰é¡¹ï¼Œå¯é€‰ã€‚ç›®å‰æ²¡æœ‰å¸¸ç”¨é€‰é¡¹ã€‚

-   **`outputChannel.show(preserveFocus)`**: æ˜¾ç¤ºè¾“å‡ºé€šé“é¢æ¿ã€‚

    -   **`preserveFocus`**: å¸ƒå°”å€¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸º `false`ã€‚`true` è¡¨ç¤ºæ˜¾ç¤ºè¾“å‡ºé€šé“æ—¶ï¼Œç„¦ç‚¹ä¿æŒåœ¨è¾“å‡ºé€šé“é¢æ¿ï¼›`false` è¡¨ç¤ºä¸ä¿æŒç„¦ç‚¹ï¼Œç„¦ç‚¹ä»ç„¶åœ¨ä¹‹å‰æ¿€æ´»çš„ç¼–è¾‘å™¨æˆ–è§†å›¾ã€‚

-   **`outputChannel.append(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ æ–‡æœ¬ï¼Œä¸æ¢è¡Œã€‚
-   **`outputChannel.appendLine(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ æ–‡æœ¬ï¼Œå¹¶æ¢è¡Œã€‚
-   **`outputChannel.appendLog(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ æ—¥å¿—æ¶ˆæ¯ (VSCode 1.75+)ã€‚æ—¥å¿—æ¶ˆæ¯åœ¨è¾“å‡ºé€šé“ä¸­ä¼šä»¥ "æ—¥å¿—" çº§åˆ«æ˜¾ç¤ºï¼Œå¹¶å¸¦æœ‰æ—¶é—´æˆ³å’Œå›¾æ ‡ã€‚
-   **`outputChannel.appendInfo(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ ä¿¡æ¯æ¶ˆæ¯ (VSCode 1.75+)ã€‚ä¿¡æ¯æ¶ˆæ¯åœ¨è¾“å‡ºé€šé“ä¸­ä¼šä»¥ "ä¿¡æ¯" çº§åˆ«æ˜¾ç¤ºï¼Œå¹¶å¸¦æœ‰æ—¶é—´æˆ³å’Œå›¾æ ‡ã€‚
-   **`outputChannel.appendWarn(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ è­¦å‘Šæ¶ˆæ¯ (VSCode 1.75+)ã€‚è­¦å‘Šæ¶ˆæ¯åœ¨è¾“å‡ºé€šé“ä¸­ä¼šä»¥ "è­¦å‘Š" çº§åˆ«æ˜¾ç¤ºï¼Œå¹¶å¸¦æœ‰æ—¶é—´æˆ³å’Œå›¾æ ‡ã€‚
-   **`outputChannel.appendError(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ é”™è¯¯æ¶ˆæ¯ (VSCode 1.75+)ã€‚é”™è¯¯æ¶ˆæ¯åœ¨è¾“å‡ºé€šé“ä¸­ä¼šä»¥ "é”™è¯¯" çº§åˆ«æ˜¾ç¤ºï¼Œå¹¶å¸¦æœ‰æ—¶é—´æˆ³å’Œå›¾æ ‡ã€‚
-   **`outputChannel.appendObject(value)`**: å‘è¾“å‡ºé€šé“è¿½åŠ  JSON å¯¹è±¡ï¼Œå¯¹è±¡ä¼šè¢«æ ¼å¼åŒ–ä¸º JSON å­—ç¬¦ä¸²å¹¶è¾“å‡ºã€‚
-   **`outputChannel.clear()`**: æ¸…ç©ºè¾“å‡ºé€šé“çš„å†…å®¹ã€‚
-   **`outputChannel.dispose()`**: é”€æ¯è¾“å‡ºé€šé“ï¼Œé‡Šæ”¾èµ„æºã€‚

#### ç¤ºä¾‹:åˆ›å»ºç®€å•çš„è¾“å‡ºé€šé“

ğŸ“ æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„è¾“å‡ºé€šé“ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•åˆ›å»ºã€æ˜¾ç¤ºè¾“å‡ºé€šé“ï¼Œä»¥åŠå¦‚ä½•è¾“å‡ºä¸åŒç±»å‹çš„ä¿¡æ¯ã€‚

1. **åˆ›å»ºè¾“å‡ºé€šé“**: åœ¨ `activate` å‡½æ•°ä¸­ä½¿ç”¨ `vscode.window.createOutputChannel()` åˆ›å»ºè¾“å‡ºé€šé“ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
2. **æ³¨å†Œå‘½ä»¤ `extension.showOutputChannel`**: åœ¨ `package.json` ä¸­æ³¨å†Œå‘½ä»¤ `extension.showOutputChannel`ï¼Œå¹¶åœ¨ `extension.ts` ä¸­å®ç°å‘½ä»¤å¤„ç†å‡½æ•°ï¼Œæ˜¾ç¤ºè¾“å‡ºé€šé“ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
3. **è¾“å‡ºä¿¡æ¯åˆ°è¾“å‡ºé€šé“**: åœ¨ `activate` å‡½æ•°ä¸­ä½¿ç”¨ `outputChannel.appendLine()`, `outputChannel.appendLog()`, `outputChannel.appendInfo()`, `outputChannel.appendWarn()`, `outputChannel.appendError()`, `outputChannel.appendObject()` ç­‰æ–¹æ³•ï¼Œå‘è¾“å‡ºé€šé“è¾“å‡ºä¸åŒç±»å‹çš„ä¿¡æ¯ (å‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹)ã€‚
4. **é‡æ–°åŠ è½½æ‰©å±•**: é‡æ–°åŠ è½½ VSCode çª—å£ã€‚

5. **æµ‹è¯•**: æ‰§è¡Œå‘½ä»¤ `extension.showOutputChannel`ï¼Œæ‰“å¼€ "è¾“å‡º" é¢æ¿ï¼Œå¹¶åœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© "My Output Channel"ã€‚ä½ å°†åœ¨è¾“å‡ºé€šé“ä¸­çœ‹åˆ°æˆ‘ä»¬è¾“å‡ºçš„å„ç§ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸åŒçº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯å’Œ JSON å¯¹è±¡ã€‚

### æ€»ç»“

ğŸ‰ æ­å–œä½ ï¼ŒåˆæŒæ¡äº† VSCode æ‰©å±•å¼€å‘çš„ä¸¤ä¸ªé‡è¦æŠ€èƒ½:**åˆ›å»º Webview** å’Œ **ä½¿ç”¨è¾“å‡ºé€šé“**ã€‚Webview è®©ä½ èƒ½å¤Ÿåˆ›å»ºé«˜åº¦è‡ªå®šä¹‰çš„äº¤äº’ç•Œé¢ï¼Œè€Œè¾“å‡ºé€šé“åˆ™æ–¹ä¾¿ä½ å±•ç¤ºæ‰©å±•çš„æ—¥å¿—å’Œä¿¡æ¯ã€‚åˆç†è¿ç”¨è¿™ä¸¤ç§äº¤äº’é¢æ¿ï¼Œä½ çš„ VSCode æ‰©å±•å°†ä¼šå˜å¾—æ›´åŠ å¼ºå¤§å’Œæ˜“ç”¨ã€‚åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ¢ç´¢ VSCode æ‰©å±•çš„æ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œæ•¬è¯·æœŸå¾…ï¼
